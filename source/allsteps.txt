## TODO: Draw the room and items somehow
### Memory addresses
## 2732 => 2317 != 2337, room?
## 2670 => 2317 != 0 tablet
## 2674 => 2357 != 0 lantern
## 2686 => 2417 != 0 can
## 2690 => 2452 != 0 red coin
## 2694 => 2473 != 0 corroded coin
## 2698 => 2483 != 0 shiny coin
## 2702 => 2468 != 0 concave coin
## 2706 => 2478 != 0 blue coin
## 2710 => 2463 != 0 teleporter
## 2714 => 2488 != 0 business card
## 2718 => 2623 != 0 orb
## 2722 => 2643 != 0 mirror
## 2726 => 2488 != 0 strange book
## 2730 => 2553 != 0 journal

# Welcome!  Lines like this are comments from me.
# Input commands that start with a "!" are instructions for the interpreter
# The first code is in the machine spec itself
! type arch-spec:28,33

# Before the main run, enable the op codes the instructions suggest
! opcodes 0,19,21
# Running the machine code with just these opcodes shows the second code
! run

# Now turn on all of the opcodes
! opcodes all
# This time when it's run, the bootup test sequence will reveal the third code 
! run

take tablet
# Using the tablet reveals the fourth code
use tablet
doorway
north
north
bridge
continue
down
east
take empty lantern
west
west
passage
ladder
west
south
# This shows the fifth code in the ruins
north
take can
use can
use lantern
west
ladder
darkness
continue
west
west
west
west
north
take red coin
north
east
take concave coin
down
take corroded coin
up
west
west
take blue coin
up
take shiny coin
down
east
look blue coin
look concave coin
look corroded coin
look red coin
look shiny coin
# The coins need to be added in the proper order, a helper here, called "solve_coins", picks the order
use blue coin
use red coin
use shiny coin
use concave coin
use corroded coin
north
take teleporter
# The teleporter shows the sixth code in the stars
use teleporter
look
take business card
look business card
take strange book
look strange book
outside
# The book mentions needing to set the 8th register to a value.  TODO in this project can be used to debug the code and find the target value.  Here it's being set with a backdoor to set the register
! set_register 8 25734
# Disable the jump to the confirmation process
! no_op 5489
# And the disable the jump if the results of the confirmation process are invalid
! no_op 5495
# This will reveal the seventh code
use teleporter

north
north
north
north
north
north
north

east
take journal
look journal
west

north
north
take orb

# At this point we're entering a maze.  The "vaults" helper solves the maze and finds the following path to run through it

north
east
east
north
west
south
east
east
west
north
north
east

vault
take mirror
use mirror

# That code is reflected in a mirror, using a helper to decode it to reveal the eigth code

! reverse_mirror

# We're all done!

! end
